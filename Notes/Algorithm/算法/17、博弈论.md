# 博弈论

[TOC]

## 语法

## 原理

博弈类问题大致分为，公平组合游戏、非公平组合游戏（绝大多数的棋类游戏）、反常游戏



只需要关注公平组合游戏(ICG)，反常游戏是公平组合游戏的变形

1，两个玩家轮流行动且游戏方式一致

2，两个玩家对状况完全了解

3，游戏一定会在有限步数内分出胜负

4，游戏以玩家无法行动结束



博弈的双方，对状况完全了解，且充分为自己打算，绝对理性

当局面确定，结果必然注定，并且没有任何随机的成分

游戏中的每一个状态，最终导致的结果也必然注定，只有必胜态、必败态，两种状态



Bash博奕：n个石子，每次可以拿1~m个，谁拿到最后一个石子谁胜利，双方谁面对m+1的倍数，谁必败

Nim博弈：n堆石子，每次可以拿一堆石子中任意数量，拿到最后一个石子胜利，谁面对石子堆中石子数异或为零谁必败(即符合成对出现必败)

反Nim博弈：同上，但谁拿走最后一颗石子谁败。每一堆都是一个石子，面对奇数个必败。其余情况同上。

斐波那契博弈：一堆石子，每次最多可以拿上一次的2倍，先手必赢。斐波那契数先手只能全拿才能赢，非斐波那契数将其分解，拿最小的斐波那契数。

Wythoff博弈：两堆石子，每次可以取一堆中任意多石子，或者取走两堆相同数目的石子，最后取完者获胜。

小 != (大 - 小) * 黄金分割率  先手赢

小 == (大 - 小) * 黄金分割率 后手赢

### SG定理

图游戏的概念

任何局面都认为是图中的点，每一个局面都可以通过一种行动，走向图中的下一个点

如果当前行动有若干个，那么后继节点就有若干个。最终，必败局面的点认为不再有后继节点

那么公平组合游戏（ICG），就可以对应成一张图



SG函数(Sprague-Grundy函数），如下是SG返回值的求解方式，俗称mex过程

最终必败点是A，规定SG(A) = 0

假设状态点是B，那么SG(B) = 查看B所有后继节点的sg值，其中没有出现过的最小自然数

SG(B) != 0，那么状态B为必胜态；SG(B) == 0，那么状态B为必败态



SG定理(Bouton定理)

如果一个ICG游戏（总），由若干个**独立**的ICG子游戏构成（分1、分2、分3..)，那么：

SG(总) = SG(分1) ^ SG(分2) ^ SG(分3).. 任何ICG游戏都是如此，正确性证明类似尼姆博弈

当数据规模较大时，要善于通过对数器的手段，打印SG表并观察，看看能不能发现简洁规律

## 题目