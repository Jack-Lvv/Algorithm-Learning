# 哈希函数

## 语法

## 原理

**哈希函数的用处**

把复杂样本变成数字，以后复杂样本之间的对比，就变成了数字之间的对比



**哈希函数的基本性质**

1）输入参数的可能性是无限的，输出的值范围相对有限

2）输入同样的样本一定得到同样的输出值，也就是哈希函数没有任何随机机制

3）输入不同的样本也可能得到同样的输出值，此时叫哈希碰撞

4）输入大量不同的样本，得到的大量输出值，会几乎均匀的分布在整个输出域上



**字符串哈希：如何得到整个字符串的哈希值**

1）理解long类型自然溢出，计算加、减、乘时，自然溢出后的状态等同于对2的64次方取模的值状态

2）字符串转化成base进制的数字并让其自然溢出

3）base可以选择一些质数比如：433、499、599、10^9+7

  也可以选择已经被证实了很好用的值：31、131、1313、13131、131313等

 建议选择质数，不要选经典值，因为会被出题人刻意构造碰撞

4）转化时让每一位的值从1开始，不从0开始，这样就得到了一个long类型的数字代表字符串

5）利用数字的比较去替代字符串的比较，可以大大减少复杂度



**字符串哈希：如何快速得到字符串中任意子串的哈希值**

1）选择一个质数做进制数，base

2）得到base的各种次方，在自然溢出下的结果，用pow数组记录

3）得到每个位置的hash[i]，hash[i] = hash[i-1] * base + s[i] - 'a' + 1

4）子串s[l...r]的哈希值 = hash[r] - hash[l-1] * base的(r-l+1)次方

## 题目